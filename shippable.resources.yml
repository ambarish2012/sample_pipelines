resources:

  - name: prodSimpleReplicas
    type: replicas
    version:
      count: 5

  - name: prodStopReplicas
    type: replicas
    version:
      count: 0

  - name: stagingParams
    type: params
    version:
      params:
        MODE: "beta"
        SELF_URL: "http://staging.simpleserver.com"

  - name: stagingOpts
    type: dockerOptions
    version:
      memory: 125
      cpuShares: 10

  - name: prodParams
    type: params
    version:
      params:
        MODE: "prod"
        SELF_URL: "http://www.simpleserver.com"

  - name: prodOpts
    type: dockerOptions
    version:
      memory: 800

  - name: stagingVerBase
    type: version
    seed:
      versionName: "1.0.0"

  - name: ecsStaging
    type: cluster
    integration: "shippable demo ecs"
    pointer:
      sourceName : "trriplejay-staging" #name of the cluster we are deploying to
      region: "us-west-1"

  - name: gkeStaging
    type: cluster
    integration: "trriplejay gke"
    pointer:
      sourceName : "cluster-1" #name of the cluster we are deploying to
      region: "us-central1-f"

  - name: stagingLoadBalancer
    type: loadBalancer
    pointer:
      sourceName: "arn:aws:elasticloadbalancing:us-west-1:412520076220:targetgroup/MyECSTargetGroup/a9c2339c233ccea8"
      method: application # application vs classic

  - name: stagingSlack
    type: notification
    integration: "shippable slack"
    pointer:
      recipients:
        - "#test_interns"

  - name: ecsProduction
    type: cluster
    integration: "shippable demo ecs"
    pointer:
      sourceName: "production"
      region: "us-west-2"

  - name: prodSlack
    type: notification
    integration: "shippable slack"
    pointer:
      recipients:
        - "#test_interns"

  - name: simple-image
    type: image
    # integration: "trriplejay docker hub"
    pointer:
      sourceName: "trriplejay/simpleserver"
    seed:
      versionName: master.58

  - name: simple-params
    type: params
    version:
      params:
        FOO: "test foo"
        BAR: "test bar"
        MODE: "dev"
        SELF_URL: "http://localhost:8888"

  - name: simple-opts
    type: dockerOptions
    version:
      memory: 120
      cpuShares: 18
      portMappings:
        - "0:8888"

  - name: simpleReplicas
    type: replicas
    version:
      count: 2
