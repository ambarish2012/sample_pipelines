resources:

  - name: simple-image-int-piiq
    type: image
    flags:
      - piiq
    pointer:
      sourceName: "trriplejay/simpleserver"
    seed:
      versionName: integration.143

  #
  # - name: simple-image-prod-piiq
  #   type: image
  #   flags:
  #     - piiq
  #   integration: "trriplejay docker hub"
  #   pointer:
  #     sourceName: "trriplejay/simpleserver"
  #   seed:
  #     versionName: production.*


  - name: simple-params-piiq
    type: params
    flags:
      - piiq
    version:
      params:
        mode: dev
        api_url: localhost:50000
        foo: bar

  - name: simple-opts-int-piiq
    type: dockerOptions
    flags:
      - piiq
    version:
      memory: 128
      portMappings:
        - 0:8888
      cpuShares: 18

  - name: simple-opts-prod-piiq
    type: dockerOptions
    flags:
      - piiq
    version:
      memory: 256
      cpuShares: 36

  - name: myEcsCluster-piiq
    type: cluster
    integration: "shippable demo ecs"
    flags:
      - piiq
    pointer:
      sourceName : "default" #name of the cluster we are deploying
      region: "us-east-1"

  - name: intReplicas-piiq
    type: replicas
    flags:
      - piiq
    version:
      count: 2

  - name: prodReplicas-piiq
    type: replicas
    flags:
      - piiq
    version:
      count: 5

  - name: intParams-piiq
    type: params
    flags:
      - piiq
    version:
      params:
        mode: integration
        api_url: http://api.beta.shippable.com

  - name: prodParams-piiq
    type: params
    flags:
      - piiq
    version:
      params:
        mode: production
        api_url: http://apitest.shippable.com

  - name: myLB-piiq
    type: loadBalancer
    flags:
      - piiq
    pointer:
      sourceName: "arn:aws:elasticloadbalancing:us-east-1:558099446733:targetgroup/MyTgtGrp/9f8a07d40fbd40df"
      method: application
